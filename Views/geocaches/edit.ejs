<% layout("layout/boilerplate.ejs") -%>
    <div class="row">

        <div class="col-6 offset-3">
            <h1 class="text-center">Update GeoCache</h1>
            <form method="POST" class="validated-form" action="/geocaches/<%=geocache._id %>?_method=PUT" novalidate
                enctype="multipart/form-data">
                <div>
                    <label for="title" class="form-label">Title</label>
                    <input class="form-control" id="title" type="text" value=<%=geocache.title %> name="geocache[title]">
                </div>
                <div class="mt-2">
                    <label class="form-label" for="location">Location</label>
                    <input class="form-control" id="location" type="text" value="<%= geocache.location %> " name="geocache[location]">
                </div>
                <div class="mt-2">
                    <label for="image" class="form-label">Upload Images</label>
                    <input class="form-control" type="file" id="image" name="image" multiple>
                </div>
                <div class="mt-2">
                    <label class="form-label" for="latitude">Latitude</label>
                    <div class="input-group">
                        <input required id="latitude" type="text" class="form-control" value=<%= geocache.geometry.coordinates[1]  %> 
                            aria-label="Latitude" name="geocache[latitude]">
                    </div>
                </div>
                <div class="mt-2">
                    <label class="form-label" for="longitude">Longitude</label>
                    <div class="input-group">
                        <input required id="longitude" type="text" class="form-control" value=<%= geocache.geometry.coordinates[0]  %> 
                            aria-label="Longitude" name="geocache[longitude]">
                    </div>
                </div>

                <div class="mt-2">
                    <label class="form-label" for="description">Description</label>
                    <textarea class="form-control" id="description" placeholder="Description" name="campground[description]"><%= geocache.description %></textarea>
                </div>

                <div class="mt-2">
                    <% geocache.image.forEach( (currImg, i)=> { %>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value=<%=currImg.key%> name="deleteImages[]"
                            id=<%= i %> >
                                <label class="form-check-label" for=<%=i %> >
                                    Delete this image?
                                </label>
                        </div>
                        <img src=<%=currImg.url %> class="img-thumbnail" >
                        <% }) %>

                <br>
                <button class="btn mt-3 btn-info"> Edit Geocache</button>
            </form>
        </div>

    </div>